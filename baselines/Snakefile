"""
Language identification evaluation pipeline
"""

import os

MODELS = ["glot500"]
DATASETS = ["flores_plus"]
FLORES_SPLITS = ["dev", "devtest"]

DATA_DIR = "data"
MODELS_DIR = "models"
RESULTS_DIR = "results"
SCRIPTS_DIR = "scripts"

os.makedirs(DATA_DIR, exist_ok=True)
os.makedirs(MODELS_DIR, exist_ok=True)
os.makedirs(RESULTS_DIR, exist_ok=True)
os.makedirs(SCRIPTS_DIR, exist_ok=True)

rule all:
    input:
        expand("{data_dir}/flores_plus/{split}.jsonl", data_dir=DATA_DIR, split=FLORES_SPLITS)

rule download_flores_plus:
    output:
        dev=f"{DATA_DIR}/flores_plus/dev.jsonl",
        devtest=f"{DATA_DIR}/flores_plus/devtest.jsonl"
    params:
        data_dir=f"{DATA_DIR}/flores_plus"
    script:
        "scripts/download_flores_plus.py"
